(function(){this.launchpad=this.launchpad||{},this.launchpadNamed=this.launchpadNamed||{};var t={};t["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},t.classCallCheck=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},t.inherits=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},t.possibleConstructorReturn=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n},t.toConsumableArray=function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)},function(){var n=function(){function n(){t.classCallCheck(this,n)}return n.abstractMethod=function(){throw Error("Unimplemented abstract method")},n.collectSuperClassesProperty=function(t,n){for(var e=[t[n]];t.__proto__&&!t.__proto__.isPrototypeOf(Function);)t=t.__proto__,e.push(t[n]);return e},n.getFunctionName=function(t){if(!t.name){var n=t.toString();t.name=n.substring(9,n.indexOf("("))}return t.name},n.getUid=function(t){return t?t[n.UID_PROPERTY]||(t[n.UID_PROPERTY]=n.uniqueIdCounter_++):n.uniqueIdCounter_++},n.identityFunction=function(t){return t},n.isBoolean=function(t){return"boolean"==typeof t},n.isDef=function(t){return void 0!==t},n.isDefAndNotNull=function(t){return n.isDef(t)&&!n.isNull(t)},n.isDocument=function(n){return n&&"object"===("undefined"==typeof n?"undefined":t["typeof"](n))&&9===n.nodeType},n.isElement=function(n){return n&&"object"===("undefined"==typeof n?"undefined":t["typeof"](n))&&1===n.nodeType},n.isFunction=function(t){return"function"==typeof t},n.isNull=function(t){return null===t},n.isNumber=function(t){return"number"==typeof t},n.isWindow=function(t){return null!==t&&t===t.window},n.isObject=function(n){var e="undefined"==typeof n?"undefined":t["typeof"](n);return"object"===e&&null!==n||"function"===e},n.isString=function(t){return"string"==typeof t},n.mergeSuperClassesProperty=function(t,e,r){var o=e+"_MERGED";if(t.hasOwnProperty(o))return!1;var i=n.collectSuperClassesProperty(t,e);return r&&(i=r(i)),t[o]=i,!0},n.nullFunction=function(){},n}();n.UID_PROPERTY="core_"+(1e9*Math.random()>>>0),n.uniqueIdCounter_=1,this.launchpad.core=n}.call(this),function(){var n=this.launchpad.core,e=function(){function e(r){var o=arguments.length<=1||void 0===arguments[1]?null:arguments[1];t.classCallCheck(this,e),this.token_=n.isString(o)?null:r,this.username_=n.isString(o)?r:null,this.password_=o}return e.create=function(t,n){return new e(t,n)},e.prototype.hasPassword=function(){return null!==this.password_},e.prototype.hasToken=function(){return null!==this.token_},e.prototype.hasUsername=function(){return null!==this.username_},e.prototype.password=function(){return this.password_},e.prototype.token=function(){return this.token_},e.prototype.username=function(){return this.username_},e}();this.launchpad.Auth=e}.call(this),function(){var n=function(){function n(){t.classCallCheck(this,n),this.disposed_=!1}return n.prototype.dispose=function(){this.disposed_||(this.disposeInternal(),this.disposed_=!0)},n.prototype.disposeInternal=function(){},n.prototype.isDisposed=function(){return this.disposed_},n}();this.launchpad.Disposable=n}.call(this),function(){var n=this.launchpad.Disposable,e=function(n){function e(){t.classCallCheck(this,e);var r=t.possibleConstructorReturn(this,n.call(this));return r.keys={},r.values={},r}return t.inherits(e,n),e.prototype.add=function(t,n){return this.keys[t.toLowerCase()]=t,this.values[t.toLowerCase()]=this.values[t.toLowerCase()]||[],this.values[t.toLowerCase()].push(n),this},e.prototype.clear=function(){return this.keys={},this.values={},this},e.prototype.contains=function(t){return t.toLowerCase()in this.values},e.prototype.disposeInternal=function(){this.values=null},e.prototype.get=function(t){var n=this.values[t.toLowerCase()];return n?n[0]:void 0},e.prototype.getAll=function(t){return this.values[t.toLowerCase()]},e.prototype.isEmpty=function(){return 0===this.size()},e.prototype.names=function(){var t=this;return Object.keys(this.values).map(function(n){return t.keys[n]})},e.prototype.remove=function(t){return delete this.keys[t.toLowerCase()],delete this.values[t.toLowerCase()],this},e.prototype.set=function(t,n){return this.keys[t.toLowerCase()]=t,this.values[t.toLowerCase()]=[n],this},e.prototype.size=function(){return this.names().length},e.prototype.toString=function(){return JSON.stringify(this.values)},e}(n);e.prototype.registerMetalComponent&&e.prototype.registerMetalComponent(e,"MultiMap"),this.launchpad.MultiMap=e}.call(this),function(){var n=this.launchpad.core,e=this.launchpad.MultiMap,r=function(){function r(){t.classCallCheck(this,r),this.headers_=new e}return r.prototype.body=function(t){return n.isDef(t)?(this.body_=t,this):this.body_},r.prototype.header=function(t,n){if(2!==arguments.length)throw new Error("Invalid arguments");return this.headers_.set(t,n),this},r.prototype.headers=function(t){return n.isDef(t)?(t instanceof e?this.headers_=t:this.headers_.values=t,t):this.headers_},r.prototype.removeBody=function(){this.body_=void 0},r}();this.launchpad.ClientMessage=r}.call(this),function(){var n=this.launchpad.core,e=this.launchpad.ClientMessage,r=this.launchpad.MultiMap,o=function(e){function o(){t.classCallCheck(this,o);var n=t.possibleConstructorReturn(this,e.call(this));return n.params_=new r,n}return t.inherits(o,e),o.prototype.method=function(t){return n.isDef(t)?(this.method_=t,this):this.method_||o.DEFAULT_METHOD},o.prototype.param=function(t,n){if(2!==arguments.length)throw new Error("Invalid arguments");return this.params_.set(t,n),this},o.prototype.params=function(t){return n.isDef(t)?(t instanceof r?this.params_=t:this.params_.values=t,t):this.params_},o.prototype.url=function(t){return n.isDef(t)?(this.url_=t,this):this.url_},o}(e);o.prototype.registerMetalComponent&&o.prototype.registerMetalComponent(o,"ClientRequest"),o.DEFAULT_METHOD="GET",this.launchpad.ClientRequest=o}.call(this),function(){var n=this.launchpad.core,e=this.launchpad.ClientMessage,r=function(e){function r(n){t.classCallCheck(this,r);var o=t.possibleConstructorReturn(this,e.call(this));if(!n)throw new Error("Can't create response without request");return o.clientRequest_=n,o}return t.inherits(r,e),r.prototype.request=function(){return this.clientRequest_},r.prototype.statusCode=function(t){return n.isDef(t)?(this.statusCode_=t,this):this.statusCode_},r.prototype.statusText=function(t){return n.isDef(t)?(this.statusText_=t,this):this.statusText_},r.prototype.succeeded=function(){return this.statusCode()>=200&&this.statusCode()<=399},r}(e);r.prototype.registerMetalComponent&&r.prototype.registerMetalComponent(r,"ClientResponse"),this.launchpad.ClientResponse=r}.call(this),function(){var n=function(){function n(){t.classCallCheck(this,n)}return n.encodeString=function(t){return"function"==typeof btoa?btoa(t):new Buffer(t.toString(),"binary")},n}();this.launchpad.Base64=n}.call(this),function(){var n=function(){function n(){t.classCallCheck(this,n),this.body_={}}return n.prototype.body=function(){return this.body_},n.toBody=function(t){return t instanceof n?t.body():t},n.prototype.toString=function(){return JSON.stringify(this.body())},n}();this.launchpad.Embodied=n}.call(this),function(){var n=this.launchpad.core,e=this.launchpad.Embodied,r=function(){function r(o,i,a){t.classCallCheck(this,r);var s={operator:n.isDef(a)?i:"="},u=n.isDef(a)?a:i;n.isDefAndNotNull(u)&&(u instanceof e&&(u=u.body()),s.value=u),this.createBody_(o,s)}return r.prototype.add=function(t,n){n?this.addArrayOperator_(t,n):this.createBody_(t,this.body_)},r.prototype.addArrayOperator_=function(t,n){this.body_[t]instanceof Array||this.createBody_(t,[this.body_]),this.body_[t].push(n.body())},r.prototype.addMany=function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;n>r;r++)e[r-1]=arguments[r];for(var o=0;o<e.length;o++)this.add(t,e[o])},r.prototype.createBody_=function(t,n){this.body_={},this.body_[t]=n},r.prototype.getObject=function(){return this.body_},r}();this.launchpad.FilterBody=r}.call(this),function(){var n=this.launchpad.Embodied,e=function(){function n(){t.classCallCheck(this,n)}return n.boundingBox=function(t,e){return new n.BoundingBox(t,e)},n.circle=function(t,e){return new n.Circle(t,e)},n.line=function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];return new(Function.prototype.bind.apply(n.Line,[null].concat(e)))},n.point=function(t,e){return new n.Point(t,e)},n.polygon=function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];return new(Function.prototype.bind.apply(n.Polygon,[null].concat(e)))},n}(),r=function(n){function e(r,o){t.classCallCheck(this,e);var i=t.possibleConstructorReturn(this,n.call(this));return i.body_=[r,o],i}return t.inherits(e,n),e}(n);r.prototype.registerMetalComponent&&r.prototype.registerMetalComponent(r,"Point"),e.Point=r;var o=function(e){function r(){t.classCallCheck(this,r);for(var o=t.possibleConstructorReturn(this,e.call(this)),i=arguments.length,a=Array(i),s=0;i>s;s++)a[s]=arguments[s];return o.body_={type:"linestring",coordinates:a.map(function(t){return n.toBody(t)})},o}return t.inherits(r,e),r}(n);o.prototype.registerMetalComponent&&o.prototype.registerMetalComponent(o,"Line"),e.Line=o;var i=function(e){function r(o,i){t.classCallCheck(this,r);var a=t.possibleConstructorReturn(this,e.call(this));return a.body_={type:"envelope",coordinates:[n.toBody(o),n.toBody(i)]},a}return t.inherits(r,e),r.prototype.getPoints=function(){return this.body_.coordinates},r}(n);i.prototype.registerMetalComponent&&i.prototype.registerMetalComponent(i,"BoundingBox"),e.BoundingBox=i;var a=function(e){function r(o,i){t.classCallCheck(this,r);var a=t.possibleConstructorReturn(this,e.call(this));return a.body_={type:"circle",coordinates:n.toBody(o),radius:i},a}return t.inherits(r,e),r.prototype.getCenter=function(){return this.body_.coordinates},r.prototype.getRadius=function(){return this.body_.radius},r}(n);a.prototype.registerMetalComponent&&a.prototype.registerMetalComponent(a,"Circle"),e.Circle=a;var s=function(e){function r(){t.classCallCheck(this,r);var n=t.possibleConstructorReturn(this,e.call(this));return n.body_={type:"polygon",coordinates:[]},n.addCoordinates_.apply(n,arguments),n}return t.inherits(r,e),r.prototype.addCoordinates_=function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];this.body_.coordinates.push(e.map(function(t){return n.toBody(t)}))},r.prototype.hole=function(){return this.addCoordinates_.apply(this,arguments),this},r}(n);s.prototype.registerMetalComponent&&s.prototype.registerMetalComponent(s,"Polygon"),e.Polygon=s,this.launchpad.Geo=e}.call(this),function(){var n=this.launchpad.core,e=this.launchpad.Embodied,r=function(e){function r(o,i){t.classCallCheck(this,r);var a=t.possibleConstructorReturn(this,e.call(this));return n.isDefAndNotNull(o)&&(a.body_.from=o),n.isDefAndNotNull(i)&&(a.body_.to=i),a}return t.inherits(r,e),r.from=function(t){return new r(t)},r.range=function(t,n){return new r(t,n)},r.to=function(t){return new r(null,t)},r}(e);r.prototype.registerMetalComponent&&r.prototype.registerMetalComponent(r,"Range"),this.launchpad.Range=r}.call(this),function(){var n=this.launchpad.core,e=this.launchpad.Embodied,r=this.launchpad.FilterBody,o=this.launchpad.Geo,i=this.launchpad.Range,a=function(a){function s(n,e,o){t.classCallCheck(this,s);var i=t.possibleConstructorReturn(this,a.call(this));return i.body_=new r(n,e,o),i}return t.inherits(s,a),s.prototype.add=function(t,n,e,r){var o=n?s.toFilter(n,e,r):null;return this.body_.add(t,o),this},s.prototype.addMany=function(t){for(var n,e=arguments.length,r=Array(e>1?e-1:0),o=1;e>o;o++)r[o-1]=arguments[o];return(n=this.body_).addMany.apply(n,[t].concat(r)),this},s.prototype.and=function(t,n,e){return this.add("and",t,n,e)},s.any=function(t){var n=Array.prototype.slice.call(arguments,1);return 1===n.length&&n[0]instanceof Array&&(n=n[0]),new s(t,"any",n)},s.boundingBox=function(n,e,r){return e instanceof o.BoundingBox?s.polygon.apply(s,[n].concat(t.toConsumableArray(e.getPoints()))):s.polygon(n,e,r)},s.prototype.body=function(){return this.body_.getObject()},s.distance=function(t,n,e){var r=n,a=e;return n instanceof o.Circle?(r=n.getCenter(),a=i.to(n.getRadius())):e instanceof i||(a=i.to(e)),s.distanceInternal_(t,r,a)},s.distanceInternal_=function(t,n,r){var o={location:e.toBody(n)};return r=r.body(),r.from&&(o.min=r.from),r.to&&(o.max=r.to),s.field(t,"gd",o)},s.equal=function(t,n){return new s(t,"=",n)},s.exists=function(t){return s.field(t,"exists",null)},s.fuzzy=function(t,n,e){return s.fuzzyInternal_("fuzzy",t,n,e)},s.fuzzyInternal_=function(t,e,r,o){var i=n.isString(r),a={query:i?r:e},u=i?o:r;u&&(a.fuzziness=u);var c=i?e:s.ALL;return s.field(c,t,a)},s.gt=function(t,n){return new s(t,">",n)},s.gte=function(t,n){return new s(t,">=",n)},s.match=function(t,e){var r=n.isString(e)?t:s.ALL,o=n.isString(e)?e:t;return s.field(r,"match",o)},s.missing=function(t){return s.field(t,"missing",null)},s.phrase=function(t,e){var r=n.isString(e)?t:s.ALL,o=n.isString(e)?e:t;return s.field(r,"phrase",o)},s.polygon=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];return r=r.map(function(t){return e.toBody(t)}),s.field(t,"gp",r)},s.prefix=function(t,n){var e=n?t:s.ALL,r=n?n:t;return s.field(e,"prefix",r)},s.range=function u(t,n,e){var u=n;return u instanceof i||(u=i.range(n,e)),s.field(t,"range",u)},s.regex=function(t,n){return new s(t,"~",n)},s.shape=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];r=r.map(function(t){return e.toBody(t)});var i={type:"geometrycollection",geometries:r};return s.field(t,"gs",i)},s.similar=function(t,e){var r=n.isString(e)?t:s.ALL,o={query:n.isString(e)?e:t};return s.field(r,"similar",o)},s.lt=function(t,n){return new s(t,"<",n)},s.lte=function(t,n){return new s(t,"<=",n)},s.none=function(t){var n=Array.prototype.slice.call(arguments,1);return 1===n.length&&n[0]instanceof Array&&(n=n[0]),new s(t,"none",n)},s.notEqual=function(t,n){return new s(t,"!=",n)},s.not=function(t,n,e){return s.toFilter(t,n,e).add("not")},s.field=function(t,n,e){return new s(t,n,e)},s.prototype.or=function(t,n,e){return this.add("or",t,n,e)},s.toFilter=function(t,n,e){var r=t;return r instanceof s||(r=s.field(t,n,e)),r},s}(e);a.prototype.registerMetalComponent&&a.prototype.registerMetalComponent(a,"Filter"),a.ALL="*",this.launchpad.Filter=a}.call(this),function(){var n=this.launchpad.Embodied,e=this.launchpad.Range,r=function(){function n(e,r,o){t.classCallCheck(this,n),this.field_=e,this.operator_=r,this.value_=o}return n.avg=function(t){return n.field(t,"avg")},n.count=function(t){return n.field(t,"count")},n.distance=function(t,e){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;r>i;i++)o[i-2]=arguments[i];return new(Function.prototype.bind.apply(n.DistanceAggregation,[null].concat([t,e],o)))},n.extendedStats=function(t){return n.field(t,"extendedStats")},n.prototype.getField=function(){return this.field_},n.prototype.getOperator=function(){return this.operator_},n.prototype.getValue=function(){return this.value_},n.histogram=function(t,e){return new n(t,"histogram",e)},n.max=function(t){return n.field(t,"max")},n.min=function(t){return n.field(t,"min")},n.missing=function(t){return n.field(t,"missing")},n.field=function(t,e){return new n(t,e)},n.range=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),o=1;e>o;o++)r[o-1]=arguments[o];return new(Function.prototype.bind.apply(n.RangeAggregation,[null].concat([t],r)))},n.stats=function(t){return n.field(t,"stats")},n.sum=function(t){return n.field(t,"sum")},n.terms=function(t){return n.field(t,"terms")},n}(),o=function(r){function o(e,i){t.classCallCheck(this,o);var a=t.possibleConstructorReturn(this,r.call(this,e,"geoDistance",{}));a.value_.location=n.toBody(i);for(var s=arguments.length,u=Array(s>2?s-2:0),c=2;s>c;c++)u[c-2]=arguments[c];return a.value_.ranges=u.map(function(t){return t.body()}),a}return t.inherits(o,r),o.prototype.range=function i(t,n){var i=t;return i instanceof e||(i=e.range(t,n)),this.value_.ranges.push(i.body()),this},o.prototype.unit=function(t){return this.value_.unit=t,this},o}(r);o.prototype.registerMetalComponent&&o.prototype.registerMetalComponent(o,"DistanceAggregation"),r.DistanceAggregation=o;var i=function(n){function r(e){t.classCallCheck(this,r);for(var o=t.possibleConstructorReturn(this,n.call(this,e,"range")),i=arguments.length,a=Array(i>1?i-1:0),s=1;i>s;s++)a[s-1]=arguments[s];return o.value_=a.map(function(t){return t.body()}),o}return t.inherits(r,n),r.prototype.range=function o(t,n){var o=t;return o instanceof e||(o=e.range(t,n)),this.value_.push(o.body()),this},r}(r);i.prototype.registerMetalComponent&&i.prototype.registerMetalComponent(i,"RangeAggregation"),r.RangeAggregation=i,this.launchpad.Aggregation=r}.call(this),function(){var n=this.launchpad.core,e=this.launchpad.Embodied,r=this.launchpad.Filter,o=this.launchpad.Aggregation,i=function(e){function i(){return t.classCallCheck(this,i),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(i,e),i.aggregate=function(t,n,e){return(new i).aggregate(t,n,e)},i.count=function(){return(new i).type("count")},i.fetch=function(){return(new i).type("fetch")},i.filter=function(t,n,e){return(new i).filter(t,n,e)},i.offset=function(t){return(new i).offset(t)},i.highlight=function(t){return(new i).highlight(t)},i.limit=function(t){return(new i).limit(t)},i.search=function(t,n,e){return(new i).search(t,n,e)},i.sort=function(t,n){return(new i).sort(t,n)},i.type=function(t){return(new i).type(t)},i.prototype.aggregate=function(t,e,r){var i=e;i instanceof o||(i=o.field(e,r));var a=i.getField(),s={};return s[a]={name:t,operator:i.getOperator()},n.isDefAndNotNull(i.getValue())&&(s[a].value=i.getValue()),this.body_.aggregation||(this.body_.aggregation=[]),this.body_.aggregation.push(s),this},i.prototype.count=function(){return this.type("count")},i.prototype.fetch=function(){return this.type("fetch")},i.prototype.filter=function a(t,n,e){var a=r.toFilter(t,n,e);return this.body_.filter||(this.body_.filter=[]),this.body_.filter.push(a.body()),this},i.prototype.offset=function(t){return this.body_.offset=t,this},i.prototype.highlight=function(t){return this.body_.highlight||(this.body_.highlight=[]),this.body_.highlight.push(t),this},i.prototype.limit=function(t){return this.body_.limit=t,this},i.prototype.search=function(t,n,e){var o=t;return e?o=r.field(t,n,e):n?o=r.match(t,n):o instanceof r||(o=r.match(t)),this.body_.search||(this.body_.search=[]),this.body_.search.push(o.body()),this},i.prototype.sort=function(t,n){this.body_.sort||(this.body_.sort=[]);var e={};return e[t]=n||"asc",this.body_.sort.push(e),this},i.prototype.type=function(t){return this.body_.type=t,this},i}(e);i.prototype.registerMetalComponent&&i.prototype.registerMetalComponent(i,"Query"),this.launchpad.Query=i}.call(this),function(){var n=function(){function n(){t.classCallCheck(this,n),this.transports={},this.transports[n.DEFAULT_TRANSPORT_NAME]=n[n.DEFAULT_TRANSPORT_NAME]}return n.instance=function(){return n.instance_||(n.instance_=new n),n.instance_},n.prototype.get=function(t){var n=this.transports[t];if(!n)throw new Error("Invalid transport name: "+t);try{return new n}catch(e){throw new Error("Can't create transport",e)}},n.prototype.getDefault=function(){return this.get(n.DEFAULT_TRANSPORT_NAME)},n}();n.DEFAULT_TRANSPORT_NAME="default",this.launchpad.TransportFactory=n}.call(this),function(){var t={};t.throwException=function(n){t.nextTick(function(){throw n})},t.run=function(n,e){t.run.workQueueScheduled_||(t.nextTick(t.run.processWorkQueue),t.run.workQueueScheduled_=!0),t.run.workQueue_.push(new t.run.WorkItem_(n,e))},t.run.workQueueScheduled_=!1,t.run.workQueue_=[],t.run.processWorkQueue=function(){for(;t.run.workQueue_.length;){var n=t.run.workQueue_;t.run.workQueue_=[];for(var e=0;e<n.length;e++){var r=n[e];try{r.fn.call(r.scope)}catch(o){t.throwException(o)}}}t.run.workQueueScheduled_=!1},t.run.WorkItem_=function(t,n){this.fn=t,this.scope=n},t.nextTick=function(n,e){var r=n;return e&&(r=n.bind(e)),r=t.nextTick.wrapCallback_(r),"function"==typeof setImmediate?void setImmediate(r):(t.nextTick.setImmediate_||(t.nextTick.setImmediate_=t.nextTick.getSetImmediateEmulator_()),void t.nextTick.setImmediate_(r))},t.nextTick.setImmediate_=null,t.nextTick.getSetImmediateEmulator_=function(){var t;if("function"==typeof MessageChannel&&(t=MessageChannel),"undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&(t=function(){var t=document.createElement("iframe");t.style.display="none",t.src="",document.documentElement.appendChild(t);var n=t.contentWindow,e=n.document;e.open(),e.write(""),e.close();var r="callImmediate"+Math.random(),o=n.location.protocol+"//"+n.location.host,i=function(t){(t.origin===o||t.data===r)&&this.port1.onmessage()}.bind(this);n.addEventListener("message",i,!1),this.port1={},this.port2={postMessage:function(){n.postMessage(r,o)}}}),"undefined"!=typeof t){var n=new t,e={},r=e;return n.port1.onmessage=function(){e=e.next;var t=e.cb;e.cb=null,t()},function(t){r.next={cb:t},r=r.next,n.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(t){var n=document.createElement("script");n.onreadystatechange=function(){n.onreadystatechange=null,n.parentNode.removeChild(n),n=null,t(),t=null},document.documentElement.appendChild(n)}:function(t){setTimeout(t,0)}},t.nextTick.wrapCallback_=function(t){return t},this.launchpad.async=t}.call(this),function(){var n=this.launchpad.core,e=this.launchpad.async,r=function(){};r.prototype.then=function(){},r.IMPLEMENTED_BY_PROP="$goog_Thenable",r.addImplementation=function(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0},r.isImplementedBy=function(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(n){return!1}};var o=function(t){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}},i=function a(t,n){this.state_=a.State_.PENDING,this.result_=void 0,this.parent_=null,this.callbackEntries_=null,this.executing_=!1,a.UNHANDLED_REJECTION_DELAY>0?this.unhandledRejectionId_=0:0===a.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1);try{var e=this;t.call(n,function(t){e.resolve_(a.State_.FULFILLED,t)},function(t){e.resolve_(a.State_.REJECTED,t)})}catch(r){this.resolve_(a.State_.REJECTED,r)}};i.UNHANDLED_REJECTION_DELAY=0,i.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3},i.CallbackEntry_=null,i.resolve=function(t){return new i(function(n){n(t)})},i.reject=function(t){return new i(function(n,e){e(t)})},i.race=function(t){return new i(function(n,e){t.length||n(void 0);for(var r,o=0;r=t[o];o++)r.then(n,e)})},i.all=function(t){return new i(function(n,e){var r=t.length,i=[];if(!r)return void n(i);for(var a,s=function(t,e){r--,i[t]=e,0===r&&n(i)},u=function(t){e(t)},c=0;a=t[c];c++)a.then(o(s,c),u)})},i.firstFulfilled=function(t){return new i(function(n,e){var r=t.length,i=[];if(!r)return void n(void 0);for(var a,s=function(t){n(t)},u=function(t,n){r--,i[t]=n,0===r&&e(i)},c=0;a=t[c];c++)a.then(s,o(u,c))})},i.prototype.then=function(t,e,r){return this.addChildPromise_(n.isFunction(t)?t:null,n.isFunction(e)?e:null,r)},r.addImplementation(i),i.prototype.thenAlways=function(t,n){var e=function(){try{t.call(n)}catch(e){i.handleRejection_.call(null,e)}};return this.addCallbackEntry_({child:null,onRejected:e,onFulfilled:e}),this},i.prototype.thenCatch=function(t,n){return this.addChildPromise_(null,t,n)},i.prototype["catch"]=i.prototype.thenCatch,i.prototype.cancel=function(t){this.state_===i.State_.PENDING&&e.run(function(){var n=new i.CancellationError(t);n.IS_CANCELLATION_ERROR=!0,this.cancelInternal_(n)},this)},i.prototype.cancelInternal_=function(t){this.state_===i.State_.PENDING&&(this.parent_?this.parent_.cancelChild_(this,t):this.resolve_(i.State_.REJECTED,t))},i.prototype.cancelChild_=function(t,n){if(this.callbackEntries_){for(var e,r=0,o=-1,a=0;e=this.callbackEntries_[a];a++){var s=e.child;if(s&&(r++,s===t&&(o=a),o>=0&&r>1))break}if(o>=0)if(this.state_===i.State_.PENDING&&1===r)this.cancelInternal_(n);else{var u=this.callbackEntries_.splice(o,1)[0];this.executeCallback_(u,i.State_.REJECTED,n)}}},i.prototype.addCallbackEntry_=function(t){this.callbackEntries_&&this.callbackEntries_.length||this.state_!==i.State_.FULFILLED&&this.state_!==i.State_.REJECTED||this.scheduleCallbacks_(),this.callbackEntries_||(this.callbackEntries_=[]),this.callbackEntries_.push(t)},i.prototype.addChildPromise_=function(t,e,r){var o={child:null,onFulfilled:null,onRejected:null};return o.child=new i(function(i,a){o.onFulfilled=t?function(n){try{var e=t.call(r,n);i(e)}catch(o){a(o)}}:i,o.onRejected=e?function(t){try{var o=e.call(r,t);!n.isDef(o)&&t.IS_CANCELLATION_ERROR?a(t):i(o)}catch(s){a(s)}}:a}),o.child.parent_=this,this.addCallbackEntry_(o),o.child},i.prototype.unblockAndFulfill_=function(t){if(this.state_!==i.State_.BLOCKED)throw new Error("CancellablePromise is not blocked.");this.state_=i.State_.PENDING,this.resolve_(i.State_.FULFILLED,t)},i.prototype.unblockAndReject_=function(t){if(this.state_!==i.State_.BLOCKED)throw new Error("CancellablePromise is not blocked.");this.state_=i.State_.PENDING,this.resolve_(i.State_.REJECTED,t)},i.prototype.resolve_=function(t,e){if(this.state_===i.State_.PENDING){if(this===e)t=i.State_.REJECTED,e=new TypeError("CancellablePromise cannot resolve to itself");else{if(r.isImplementedBy(e))return e=e,this.state_=i.State_.BLOCKED,void e.then(this.unblockAndFulfill_,this.unblockAndReject_,this);if(n.isObject(e))try{var o=e.then;if(n.isFunction(o))return void this.tryThen_(e,o)}catch(a){t=i.State_.REJECTED,e=a}}this.result_=e,this.state_=t,this.scheduleCallbacks_(),t!==i.State_.REJECTED||e.IS_CANCELLATION_ERROR||i.addUnhandledRejection_(this,e)}},i.prototype.tryThen_=function(t,n){this.state_=i.State_.BLOCKED;var e=this,r=!1,o=function(t){r||(r=!0,e.unblockAndFulfill_(t))},a=function(t){r||(r=!0,e.unblockAndReject_(t))};try{n.call(t,o,a)}catch(s){a(s)}},i.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,e.run(this.executeCallbacks_,this))},i.prototype.executeCallbacks_=function(){for(;this.callbackEntries_&&this.callbackEntries_.length;){var t=this.callbackEntries_;this.callbackEntries_=[];for(var n=0;n<t.length;n++)this.executeCallback_(t[n],this.state_,this.result_)}this.executing_=!1},i.prototype.executeCallback_=function(t,n,e){n===i.State_.FULFILLED?t.onFulfilled(e):(this.removeUnhandledRejection_(),t.onRejected(e))},i.prototype.removeUnhandledRejection_=function(){var t;if(i.UNHANDLED_REJECTION_DELAY>0)for(t=this;t&&t.unhandledRejectionId_;t=t.parent_)clearTimeout(t.unhandledRejectionId_),t.unhandledRejectionId_=0;else if(0===i.UNHANDLED_REJECTION_DELAY)for(t=this;t&&t.hadUnhandledRejection_;t=t.parent_)t.hadUnhandledRejection_=!1},i.addUnhandledRejection_=function(t,n){i.UNHANDLED_REJECTION_DELAY>0?t.unhandledRejectionId_=setTimeout(function(){i.handleRejection_.call(null,n)},i.UNHANDLED_REJECTION_DELAY):0===i.UNHANDLED_REJECTION_DELAY&&(t.hadUnhandledRejection_=!0,e.run(function(){t.hadUnhandledRejection_&&i.handleRejection_.call(null,n)}))},i.handleRejection_=e.throwException,i.setUnhandledRejectionHandler=function(t){i.handleRejection_=t},i.CancellationError=function(n){function e(r){t.classCallCheck(this,e);var o=t.possibleConstructorReturn(this,n.call(this,r));return r&&(o.message=r),o}return t.inherits(e,n),e}(Error),i.CancellationError.prototype.name="cancel",this.launchpadNamed.Promise={},this.launchpadNamed.Promise.CancellablePromise=i,this.launchpad.Promise=i}.call(this),function(){var n=this.launchpad.core,e=this.launchpadNamed.Promise.CancellablePromise,r=function(){function r(){t.classCallCheck(this,r)}return r.addParametersToUrlQueryString=function(t,n){var e="";return n.names().forEach(function(t){n.getAll(t).forEach(function(n){e+=t+"="+encodeURIComponent(n)+"&"})}),e=e.slice(0,-1),e&&(t+=t.indexOf("?")>-1?"&":"?",t+=e),t},r.joinPaths=function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;n>r;r++)e[r-1]=arguments[r];return"/"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),e=e.map(function(t){return"/"===t.charAt(0)?t.substring(1):t}),[t].concat(e).join("/").replace(/\/$/,"")},r.parseResponseHeaders=function(t){var n=[];if(!t)return n;for(var e=t.split("\r\n"),r=0;r<e.length;r++){var o=e[r].indexOf(": ");if(o>0){var i=e[r].substring(0,o),a=e[r].substring(o+2);n.push({name:i,value:a})}}return n},r.parseUrl=function(t){var n,e,r,o=t.indexOf("//");o>-1&&(t=t.substring(o+2));var i=t.indexOf("/");-1===i&&(t+="/",i=t.length-1),n=t.substring(0,i),e=t.substring(i);var a=e.indexOf("?");return a>-1?(r=e.substring(a,e.length),e=e.substring(0,a)):r="",[n,e,r]},r.request=function o(t,i,a,s,u,c,l){var o=new XMLHttpRequest,h=new e(function(t,n){o.onload=function(){return o.aborted?void o.onerror():void t(o)},o.onerror=function(){var t=new Error("Request error");t.request=o,n(t)}}).thenCatch(function(t){throw o.abort(),t}).thenAlways(function(){clearTimeout(p)});if(u&&(t=r.addParametersToUrlQueryString(t,u)),o.open(i,t,!l),s&&s.names().forEach(function(t){o.setRequestHeader(t,s.getAll(t).join(", "))}),o.send(n.isDef(a)?a:null),n.isDefAndNotNull(c))var p=setTimeout(function(){h.cancel("Request timeout")},c);return h},r}();this.launchpad.Ajax=r}.call(this),function(){var n,e=this.launchpad.core,r=this.launchpad.Auth,o=this.launchpad.Base64,i=this.launchpad.Embodied,a=this.launchpad.Filter,s=this.launchpad.Query,u=this.launchpad.TransportFactory,c=this.launchpad.ClientRequest,l=this.launchpad.Ajax,h=this.launchpad.MultiMap,p=function(){function p(n){for(var e=arguments.length,r=Array(e>1?e-1:0),o=1;e>o;o++)r[o-1]=arguments[o];if(t.classCallCheck(this,p),0===arguments.length)throw new Error("Invalid arguments, try `new Launchpad(baseUrl, url)`");this.auth_=null,this.body_=null,this.url_=l.joinPaths.apply(l,[n||""].concat(r)),this.headers_=new h,this.params_=new h,this.header("Content-Type","application/json"),this.header("X-PJAX","true"),this.header("X-Requested-With","XMLHttpRequest")}return p.prototype.aggregate=function(t,n,e){return this.getOrCreateQuery_().aggregate(t,n,e),this},p.prototype.auth=function(t,n){return this.auth_=t,this.auth_ instanceof r||(this.auth_=r.create(t,n)),this},p.prototype.body=function(t){return this.body_=t,this},p.prototype.convertBodyToParams_=function(t,n){e.isString(n)?n={body:n}:n instanceof i&&(n=n.body()),Object.keys(n||{}).forEach(function(e){return t.param(e,n[e])})},p.prototype.count=function(){return this.getOrCreateQuery_().type("count"),this},p.prototype.createClientRequest_=function(t,n){var r=new c;return r.body(n||this.body_),e.isDefAndNotNull(r.body())||(this.query_?r.body(this.query_.body()):this.formData_&&r.body(this.formData_)),r.method(t),r.headers(this.headers()),r.params(this.params()),r.url(this.url()),this.encode(r),r},p.prototype.decode=function(t){if(p.isContentTypeJson(t))try{t.body(JSON.parse(t.body()))}catch(n){}return t},p.prototype["delete"]=function(t){return this.sendAsync("DELETE",t)},p.prototype.encode=function(t){var n=t.body();return e.isElement(n)&&(n=new FormData(n),t.body(n)),n=this.wrapWithQuery_(n),"GET"===t.method()&&(this.convertBodyToParams_(t,n),t.removeBody(),n=null),"undefined"!=typeof FormData&&n instanceof FormData?t.headers().remove("content-type"):n instanceof i?t.body(n.toString()):p.isContentTypeJson(t)&&t.body(JSON.stringify(t.body())),
this.encodeParams_(t),this.resolveAuthentication_(t),t},p.prototype.encodeParams_=function(t){var n=t.params();n.names().forEach(function(t){var r=n.getAll(t);r.forEach(function(t,n){t instanceof i?t=t.toString():(e.isObject(t)||t instanceof Array)&&(t=JSON.stringify(t)),r[n]=t})})},p.prototype.filter=function(t,n,e){return this.getOrCreateQuery_().filter(t,n,e),this},p.prototype.form=function(t,n){if("undefined"==typeof FormData)throw new Error("form() is only available when FormData API is available.");return this.formData_||(this.formData_=new FormData),this.formData_.append(t,n),this},p.prototype.get=function(t){return this.sendAsync("GET",t)},p.prototype.getOrCreateQuery_=function(){return this.query_||(this.query_=new s),this.query_},p.prototype.header=function(t,n){if(2!==arguments.length)throw new Error("Invalid arguments");return this.headers_.set(t,n),this},p.prototype.headers=function(){return this.headers_},p.prototype.highlight=function(t){return this.getOrCreateQuery_().highlight(t),this},p.prototype.limit=function(t){return this.getOrCreateQuery_().limit(t),this},p.prototype.offset=function(t){return this.getOrCreateQuery_().offset(t),this},p.prototype.param=function(t,n){if(2!==arguments.length)throw new Error("Invalid arguments");return this.params_.set(t,n),this},p.prototype.params=function(){return this.params_},p.prototype.patch=function(t){return this.sendAsync("PATCH",t)},p.prototype.path=function(){for(var t=arguments.length,n=Array(t),e=0;t>e;e++)n[e]=arguments[e];return(new(Function.prototype.bind.apply(p,[null].concat([this.url()],n)))).use(this.customTransport_)},p.prototype.post=function(t){return this.sendAsync("POST",t)},p.prototype.put=function(t){return this.sendAsync("PUT",t)},p.prototype.resolveAuthentication_=function(t){if(this.auth_)if(this.auth_.hasToken())t.header("Authorization","Bearer "+this.auth_.token());else{var n=this.auth_.username()+":"+this.auth_.password();t.header("Authorization","Basic "+o.encodeString(n))}},p.prototype.search=function(t,n,e){return this.getOrCreateQuery_().search(t,n,e),this},p.prototype.sendAsync=function(t,n){var e=this.customTransport_||u.instance().getDefault(),r=this.createClientRequest_(t,n);return e.send(r).then(this.decode)},p.socket=function(t){n=t},p.prototype.sort=function(t,n){return this.getOrCreateQuery_().sort(t,n),this},p.url=function(t){return new p(t).use(this.customTransport_)},p.prototype.url=function(){return this.url_},p.prototype.use=function(t){return this.customTransport_=t,this},p.prototype.watch=function(t,e){if("undefined"==typeof n)throw new Error("Socket.io client not loaded");var r=this.createClientRequest_("GET",t),o=l.parseUrl(l.addParametersToUrlQueryString(r.url(),r.params()));return e=e||{forceNew:!0},e.path=e.path||o[1],n(o[0]+"?url="+encodeURIComponent(o[1]+o[2]),e)},p.prototype.wrapWithQuery_=function(t){return t instanceof a&&(t=s.filter(t)),t},p}();p.isContentTypeJson=function(t){var n=t.headers().get("content-type")||"";return 0===n.indexOf("application/json")},this.launchpad.Launchpad=p}.call(this),function(){var n=function(){function n(){t.classCallCheck(this,n)}return n.prototype.send=function(){},n}();this.launchpad.Transport=n}.call(this),function(){var n=this.launchpad.Ajax,e=this.launchpad.Transport,r=this.launchpad.ClientResponse,o=function(e){function o(){return t.classCallCheck(this,o),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(o,e),o.prototype.send=function(t){var e=n.request(t.url(),t.method(),t.body(),t.headers(),t.params(),null,!1);return e.then(function(e){var o=new r(t);return o.body(e.responseText),o.statusCode(e.status),o.statusText(e.statusText),n.parseResponseHeaders(e.getAllResponseHeaders()).forEach(function(t){o.header(t.name,t.value)}),o})},o}(e);o.prototype.registerMetalComponent&&o.prototype.registerMetalComponent(o,"AjaxTransport"),this.launchpad.AjaxTransport=o}.call(this),function(){var t=this.launchpad.AjaxTransport,n=this.launchpad.Filter,e=this.launchpad.Geo,r=this.launchpad.Launchpad,o=this.launchpad.Query,i=this.launchpad.Range,a=this.launchpad.TransportFactory;a[a.DEFAULT_TRANSPORT_NAME]=t,r.socket(window.io),window.Filter=n,window.Geo=e,window.Query=o,window.Range=i,window.Launchpad=r}.call(this)}).call(this);